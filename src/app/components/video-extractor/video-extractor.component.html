<div class="max-w-2xl mx-auto p-8 bg-gray-800 rounded-lg shadow-lg mt-10">
  <h1 class="text-3xl font-bold text-white mb-6 text-center">Just The Video</h1>
  <p class="text-gray-400 mb-8 text-center">Paste the URL of the page containing the video you want to extract.</p>

  <form (submit)="extractVideo()" class="flex flex-col sm:flex-row gap-4">
    <input
      type="url"
      [ngModel]="url()"
      (ngModelChange)="url.set($event)"
      name="url"
      placeholder="https://example.com/page-with-video"
      required
      class="flex-grow p-4 bg-gray-700 text-white rounded-md border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none"
    />
    <button
      type="submit"
      [disabled]="loading()"
      class="bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-md transition-colors duration-300 flex items-center justify-center"
    >
      @if (loading()) {
        <span class="h-5 w-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"></span>
        <span>Extracting...</span>
      } @else {
        <span>Extract Video</span>
      }
    </button>
  </form>

  @if (error()) {
    <div class="mt-6 p-4 bg-red-900 border border-red-700 text-red-300 rounded-md">
      <p>{{ error() }}</p>
    </div>
  }

  @if (videoLink()) {
    <div class="mt-8">
      <h2 class="text-xl font-semibold text-white mb-4">Video Link Found:</h2>
      <div class="p-4 bg-gray-700 rounded-md">
        <a [href]="videoLink()" target="_blank" class="text-blue-400 hover:text-blue-300 break-all">{{ videoLink() }}</a>
      </div>
      <video [src]="videoLink()" controls class="mt-4 w-full rounded-md"></video>
    </div>
  }
</div>
